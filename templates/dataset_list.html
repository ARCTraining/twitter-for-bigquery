{% extends "base.html" %}
{% block bodycontent %}
	
		<button type="button" class="btn btn-primary pull-right" data-toggle="modal" data-target="#myModal">
		  Add Dataset
		</button>

		<h1>Datasets</h1>
		
		<p>View BigQuery datasets and tables in your project.</p>
		
		<br>
				
		<div>
		
			<table class="table table-striped">
			<thead>
	        <tr>
	          <th>Dataset</th>
	          <th>Type</th>
	          <th>Rules</th>
	          <th>Actions</th>
	        </tr>
      		</thead>
      		<tbody id="table_data">
      		</tbody>
			</table>
			
        </div>
        
    </div>
    
	<hr>

    <div class="container page_footer">
    
    </div>
    <!-- /container -->

<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Add Dataset</h4>
      </div>
      <div class="modal-body">

		<form class="form-horizontal">
		  <div class="form-group">
		    <label for="" class="col-sm-2 control-label">Name</label>
		    <div class="col-sm-10">
		      <input type="text" class="form-control" id="dataset_name" placeholder="">
		    </div>
		  </div>
		  <div class="form-group">
		    <label for="" class="col-sm-2 control-label">Type</label>
		    <div class="col-sm-10">
		      <select name="dataset_type" id="dataset_type" class="form-control">
		      	<option value="gnip">Gnip</option>
		      	<option value="twitter">Twitter Stream</option>
		      </select>
		    </div>
		  </div>
		  <div class="form-group">
		    <label for="" class="col-sm-2 control-label">Rules</label>
		    <div class="col-sm-10">
		      <textarea class="form-control" id="dataset_rules" placeholder="" rows="4"></textarea>
		      <span class="help-block">Newline delimited</span>
		    </div>
		  </div>
		</form>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary dataset_add">Save Dataset</button>
      </div>
    </div>
  </div>
</div>

<script id="table_row" type="text/template">
<tr>
	<td>
		{{datasetId}}:{{tableId}}
	</td>
	<td>
		Gnip
	</td>
	<td>
		{{rulesStart}}{{rulesValue}}<br>{{rulesEnd}}
	</td>
	<td>
		<a class="dataset_delete" href="https://bigquery.cloud.google.com/table/{{id}}" target="_target">open</a>
		|
		<a class="dataset_delete" href="#" target="_target">delete</a>
	</td>
</tr>
</script>

<script language="JavaScript1.2">

$(document).ready(function(){

	  DatasetPage.init();
	
})

</script>

{% endblock %}