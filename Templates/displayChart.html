<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="icon" href="http://getbootstrap.com/favicon.ico">
    <title></title>
    <link href="http://getbootstrap.com/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="http://getbootstrap.com/examples/justified-nav/justified-nav.css" rel="stylesheet">
    <link href="css/c3.css" rel="stylesheet" rel="stylesheet">
    <style>
    </style>
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.7.1.min.js"></script>
    <script type="text/javascript" src="js/d3.js"></script>
    <script type="text/javascript" src="js/c3.js"></script>
</head>

<body>

    <div class="container">

        <div id="chart"></div>

    </div>
    <!-- /container -->

<script>

function init() {
    
    $.ajax({
        type: "GET",
        url: "/getChartData",
        data: {
            inputData: ""
        },
        dataType: "json",
        success: function(response) {
            console.log(response);
			makeChart(response);
        },
        error: function(xhr, errorType, exception) {  
           console.log('Error occured');
        }
    });
}

function makeChart(data){
	
	var chart = c3.generate({
	    bindto: '#chart',
	    data: {
	        columns: data,
	        type : 'donut',
	        onclick: function (d, i) { console.log("onclick", d, i); },
	        onmouseover: function (d, i) { console.log("onmouseover", d, i); },
	        onmouseout: function (d, i) { console.log("onmouseout", d, i); }
	    },
	    donut: {
	        title: "Tweet Sources"
	    }
	});

}

init();
    
</script>

</body>

</html>
